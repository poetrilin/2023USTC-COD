# 实验三

- 学号: PB21061373
- 姓名:刘兆宸
- 实验日期: 2022-4-12

[TOC]

## 实验目标

- 熟练RISCV-321 汇编代码的编写
- 熟练使用RARS进行调试与键盘和display的IO机制
- 实现大整数的加法拓展
- 实现移位寄存器并结合PDU熟悉调试操作

## 实验内容
注：这次实验量不大,所以本人把代码部分都删了()
### FLS

#### Basic FLS

- 用于计算斐波那契-卢卡斯数列的核心代码介绍；

代码比较短,如上,Hw3做过了,关键迭代

```verilog
tmp = add (a(n）,a(n-1))
a(n-1)=a(n)
a(n)=tmp
```

#### Keyboard &display I/O

- 用于实现外设输入、输出的核心代码介绍


  根据文档了解了Keyboard的轮询输入与display输出方式,关键是几个重要的IO寄存器




#### 大整数加法运算

- 用于处理大整数运算与存储的核心代码介绍。

采用双字小端存储,高4字节存储前一个地址,低4字节存储后一个地址,于是加法就变成了
$$
\begin{cases}  y[31:0]=a[31:0]+b[31:0]\\
y[63:32]=a[63:32]+b[63:32]+of
\end{cases}
$$


```verilog
//(a[31], b[31], y[31])序列=(1,1,x),(1,0,0)(0,1,0)表示会溢出
of = a[31]^b[31]^y[31]+a[31]&b[31]
```


### Shift_Reg & PDU

一开始没看文档是晕的实际上PDU的几个模块,rcv+decode 控制的终端外设,deb控制的sw外设,而seg控制的是数码管输出,调试的原理就是通过几个外设与我们的程序建立起联系,而抽象出PDU模块能更具有泛用性



## 实验总结

- 完成了[实验目标](## 实验目标).主要练习了汇编代码的编写
- 对RARS的使用更加熟练了
- 了解了PDU模块,对外设的使用更进一步

